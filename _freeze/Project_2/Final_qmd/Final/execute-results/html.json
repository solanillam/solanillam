{
  "hash": "6cd6ef042f529a0c9fbf16f895c40452",
  "result": {
    "markdown": "---\ntitle: \"Analyzing Workforce Dynamics and Safety: Insights from an Oil Refinery\"\ndate: last-modified\ndate-format: \"[Last modified on] MMMM DD, YYYY HH:mm:ss zzz\"\nformat: \n  html:\n    theme: cosmo  # zephyr pulse, sketchy, default, cosmo, vapor etc\nauthor:\n  - name: Mariana Solanilla\n    email: solanillam@appstate.edu\n    affiliation:\n      - name: Appalachian State University\n        city: Boone\n        state: NC  \n        url: https://www.appstate.edu/\nabstract: >\n This project examines two years of oil refinery data (2022â€“2023) on work hours, overtime, and safety incidents, uncovering key trends through data cleaning and visualization to provide insights into workforce dynamics and safety.\nkeywords:\n  - R\n  - data viz\nlicense: \"CC BY\"  \ncode-fold: false\n---\n\n\n![Workforce and Safety]()\n\n# Introduction\n\nThe oil and gas industry operates in a complex and high-stakes environment, where workforce dynamics and safety are critical to operational success. This project examines two years of data from **January 2022-- December 2023** derived from an oil refinery, focusing on employee work hours, overtime, and reported safety incidents. By cleaning and analyzing the data, this study aims to uncover meaningful patterns and trends that shed light on the relationship between workload and safety outcomes. Using visualizations to present the findings, the project provides a clear and concise overview of the data, offering insights to guide future discussions on workforce management and safety strategies.\n\nTime to get started!\n\n\n\n\n\n## Loading Necessary Packages\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# For data importing\nlibrary(readxl)\n\n# For data manipulation and tidying\nlibrary(tidyverse)\nlibrary(stringr)\nlibrary(dplyr)\n\n# For date and time handling\nlibrary(lubridate)\n\n# Quarto rendering\nlibrary(rmarkdown)  \nlibrary(knitr)      \n\n# For creating visuals\nlibrary(ggplot2)\n```\n:::\n\n\n## Importing Data\n\nThe dataset for this project was sourced from an [Excel file](https://docs.google.com/spreadsheets/d/11NnYb1Ubl1xM4rzHecbwei9GDXQHKv-5/edit?gid=660108890#gid=660108890) and imported into R using the read_excel() function from the readxl package. The imported data was then inspected and prepared for analysis through a series of cleaning and transformation steps to ensure accuracy and usability.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ndf <- read_excel(\"~/git_repos/solanillam/Project_2/Raw_Data/Copy of df_overall_final_V1.xlsx\")\n```\n:::\n\n\nOk, let's take a look at the data set.\n\n## Data Munging (cleaning)\n\n### Step 1: Data Reduction\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Removed Unnecessary Columns\ndf_cleaned <- df %>% select(-aud, -obs, -turnaround)\n\n# Removed Duplicate Rows\ndf_cleaned <- df_cleaned %>% distinct()\n```\n:::\n\n\nDuring the data reduction step, unnecessary columns (`aud`, `obs`, and `turnaround`) were removed to streamline the dataset and focus on relevant variables. Duplicate rows were eliminated to ensure the data was clean and free from redundancies, providing a solid foundation for accurate analysis.\n\n### Step 2: Data Validation\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Filtered Rows with Valid Values\ndf_cleaned <- df_cleaned %>%\n  filter(!is.na(inc) & inc != 0) %>%\n  filter(!is.na(ovt))\n# Handled Outliers\ndf_cleaned <- df_cleaned %>%\n  filter(ovt >= 0 & ovt <= 24)\n```\n:::\n\n\nInvalid rows with missing or zero incident values (`inc`) or missing overtime (`ovt`) were filtered out to ensure the dataset contained only meaningful observations. Outliers in overtime were handled by keeping only realistic values between 0 and 24 hours, maintaining the integrity of the data.\n\n### Step 3: Data Transformation\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# Standardized Text Data\ndf_cleaned$unit <- trimws(toupper(df_cleaned$unit))\n\n# Created New Variables\ndf_cleaned <- df_cleaned %>%\n  mutate(total_work_time = hrs + ovt)\n```\n:::\n\n\nText data in the `unit` column was standardized by trimming spaces and converting to uppercase for consistency. A new variable, `total_work_time`, was created to combine regular hours and overtime, enabling deeper analysis of workload patterns.\n\n## Findings and Results\n\n### Incident Trends Over Time\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![Line graph showing fluctuations in the number of incidents over time, with the highest spike occurring in early 2024.](Final_files/figure-html/fig-nbs-1.png){#fig-nbs fig-align='center' width=672}\n:::\n:::\n\n\n### Workload Trends Over Time\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![Line graph showing variations in total work time over time, with most values ranging between 50 and 150 hours, peaking occasionally throughout 2022 to early 2024.](Final_files/figure-html/fig-nbs1-1.png){#fig-nbs1 fig-align='center' width=672}\n:::\n:::\n\n\n### Incident Distribution Across Units\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![Bar graph showing the distribution of incidents across refinery units, with GBR-OMCC-FIELD reporting the highest number of incidents.](Final_files/figure-html/fig-nbs2-1.png){#fig-nbs2 fig-align='center' width=672}\n:::\n:::\n\n\n### Workload Variability by Unit\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![Bar graph showing average total work time across units, with the highest averages recorded in GBR-OMCC-FIELD and GBR-CHEMICALS units.](Final_files/figure-html/fig-nbs3-1.png){#fig-nbs3 fig-align='center' width=672}\n:::\n:::\n\n\n### Relationship Between Hours Worked and Overtime\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![Scatter plot showing the relationship between hours worked and overtime, with a positive correlation evident as higher regular hours often coincide with higher overtime.](Final_files/figure-html/fig-nbs4-1.png){#fig-nbs4 fig-align='center' width=672}\n:::\n:::\n",
    "supporting": [
      "Final_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}